function i(i,t,o,s){Object.defineProperty(i,t,{get:o,set:s,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},s={},e=t.parcelRequire94c2;null==e&&((e=function(i){if(i in o)return o[i].exports;if(i in s){var t=s[i];delete s[i];var e={id:i,exports:{}};return o[i]=e,t.call(e.exports,e,e.exports),e.exports}var h=new Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}).register=function(i,t){s[i]=t},t.parcelRequire94c2=e),e.register("27Lyk",(function(t,o){var s,e;i(t.exports,"register",(()=>s),(i=>s=i)),i(t.exports,"resolve",(()=>e),(i=>e=i));var h={};s=function(i){for(var t=Object.keys(i),o=0;o<t.length;o++)h[t[o]]=i[t[o]]},e=function(i){var t=h[i];if(null==t)throw new Error("Could not resolve bundle with id "+i);return t}})),e.register("iHEAb",(function(i,t){i.exports=new URL(e("27Lyk").resolve("l2ssH"),import.meta.url).toString()})),e.register("26HDg",(function(i,t){i.exports=new URL(e("27Lyk").resolve("coxBQ"),import.meta.url).toString()})),e("27Lyk").register(JSON.parse('{"9vqfN":"index.4a8a75cd.js","l2ssH":"spaceship.5ee0230a.png","coxBQ":"invader.b333f5fa.png"}'));class h{constructor({position:i,velocity:t}){this.position=i,this.velocity=t,this.radius=4}draw(){d.beginPath(),d.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),d.fillStyle="red",d.fill(),d.closePath}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}}class n{constructor({position:i,velocity:t,radius:o,color:s,fades:e}){this.position=i,this.velocity=t,this.radius=o,this.color=s,this.opacity=1,this.fades=e}draw(){d.save(),d.globalAlpha=this.opacity,d.beginPath(),d.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),d.fillStyle=this.color,d.fill(),d.closePath,d.restore()}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.fades&&(this.opacity-=.01)}}class r{constructor({position:i,velocity:t}){this.position=i,this.velocity=t,this.width=4,this.height=10}draw(){d.fillStyle="white",d.fillRect(this.position.x,this.position.y,this.width,this.height)}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}}const a=document.querySelector("canvas"),d=a.getContext("2d");class c{constructor({position:i}){this.velocity={x:0,y:0};let t=new Image;t.src=e("26HDg"),t.onload=()=>{this.image=t,this.width=1*t.width,this.height=1*t.height,this.position={x:i.x,y:i.y}}}draw(){d.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}update({velocity:i}){this.image&&(this.draw(),this.position.x+=i.x,this.position.y+=i.y)}shoot(i){i.push(new r({position:{x:this.position.x+this.width/2,y:this.position.y+this.height},velocity:{x:0,y:5}}))}}class p{constructor(){this.position={x:0,y:0},this.velocity={x:3,y:0},this.invaders=[];const i=Math.floor(10*Math.random()+5),t=Math.floor(5*Math.random()+2);this.width=30*i;for(let o=0;o<i;o++)for(let i=0;i<t;i++)this.invaders.push(new c({position:{x:30*o,y:30*i}}));console.log(this.invaders)}update(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.y=0,(this.position.x+this.width>=a.width||this.position.x<=0)&&(this.velocity.x=-this.velocity.x,this.velocity.y=30)}}a.width=1024,a.height=576;const l=document.querySelector("#scoreEl"),y=new class{constructor(){this.velocity={x:0,y:0},this.rotation=0,this.opacity=1;let i=new Image;i.src=e("iHEAb"),i.onload=()=>{this.image=i,this.width=.15*i.width,this.height=.15*i.height,this.position={x:a.width/2-this.width/2,y:a.height-this.height-20}}}draw(){d.save(),d.globalAlpha=this.opacity,d.translate(y.position.x+y.width/2,y.position.y+y.height/2),d.rotate(this.rotation),d.translate(-y.position.x-y.width/2,-y.position.y-y.height/2),d.drawImage(this.image,this.position.x,this.position.y,this.width,this.height),d.restore()}update(){this.image&&(this.draw(),this.position.x+=this.velocity.x)}},u=[],x=[],v=[],w=[],f={a:{pressed:!1},d:{pressed:!1},space:{pressed:!1}};let g=0,m=Math.floor(500*Math.random()+500),b={over:!1,active:!0},M=0;for(let i=0;i<100;i++)w.push(new n({position:{x:Math.random()*a.width,y:Math.random()*a.height},velocity:{x:0,y:.5},radius:3*Math.random(),color:"white"}));function E({object:i,color:t,fades:o}){for(let s=0;s<15;s++)w.push(new n({position:{x:i.position.x+i.width/2,y:i.position.y+i.height/2},velocity:{x:2*(Math.random()-.5),y:2*(Math.random()-.5)},radius:3*Math.random(),color:t||"#BAA0DE",fades:o}))}!function i(){b.active&&(requestAnimationFrame(i),d.fillStyle="black",d.fillRect(0,0,a.width,a.height),y.update(),w.forEach(((i,t)=>{i.position.y-i.radius>=a.height&&(i.position.x=Math.random()*a.width,i.position.y=-i.radius),i.opacity<=0?setTimeout((()=>{w.splice(t,1)}),0):i.update()})),v.forEach(((i,t)=>{i.position.y+i.height>=a.height?setTimeout((()=>{v.splice(t,1)}),0):i.update(),i.position.y+i.height>=y.position.y&&i.position.x+i.width>=y.position.x&&i.position.x<=y.position.x+y.width&&(setTimeout((()=>{v.splice(t,1),y.opacity=0,b.over=!0}),0),setTimeout((()=>{b.active=!1}),2e3),E({object:y,color:"white",fades:!0}))})),u.forEach(((i,t)=>{i.position.y+i.radius<=0?setTimeout((()=>{u.splice(t,1)}),0):i.update()})),x.forEach(((i,t)=>{i.update(),g%100==0&&i.invaders.length>0&&i.invaders[Math.floor(Math.random()*i.invaders.length)].shoot(v),i.invaders.forEach(((o,s)=>{o.update({velocity:i.velocity}),u.forEach(((e,h)=>{e.position.y-e.radius<=o.position.y+o.height&&e.position.x+e.radius>=o.position.x&&e.position.x-e.radius<=o.position.x+o.width&&e.position.y+e.radius>=o.position.y&&setTimeout((()=>{const n=i.invaders.find((i=>i==o)),r=u.find((i=>i==e));if(n&&r)if(M+=100,l.innerHTML=M,E({object:o,fades:!0}),i.invaders.splice(s,1),u.splice(h,1),i.invaders.length>0){const t=i.invaders[0],o=i.invaders[i.invaders.length-1];i.width=o.position.x-t.position.x+o.width,i.position.x=t.position.x}else x.splice(t,1)}),0)}))}))})),f.a.pressed&&y.position.x>=0?(y.velocity.x=-7,y.rotation=-.15):f.d.pressed&&y.position.x+y.width<=a.width?(y.velocity.x=7,y.rotation=.15):(y.velocity.x=0,y.rotation=0),g%m==0&&x.push(new p),g++)}(),addEventListener("keydown",(({key:i})=>{if(!b.over)switch(i){case"a":f.a.pressed=!0;break;case"d":f.d.pressed=!0;break;case" ":u.push(new h({position:{x:y.position.x+y.width/2,y:y.position.y},velocity:{x:0,y:-12}}))}})),addEventListener("keyup",(({key:i})=>{switch(i){case"a":f.a.pressed=!1;break;case"d":f.d.pressed=!1}}));
//# sourceMappingURL=index.4a8a75cd.js.map
